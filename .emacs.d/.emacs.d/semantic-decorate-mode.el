<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <link rel="icon" href="/hg/mitsuhiko-dotemacs/static/hgicon.png" type="image/png" />
    <meta name="robots" content="index, nofollow"/>
    <link rel="stylesheet" href="/hg/mitsuhiko-dotemacs/static/style-monoblue.css" type="text/css" />

<link rel="stylesheet" href="/hg/mitsuhiko-dotemacs/highlightcss" type="text/css" />
<title>mitsuhiko-dotemacs: cedet/semantic/semantic-decorate-mode.el@aeec9877d4cd</title>
    <link rel="alternate" type="application/atom+xml" href="/hg/mitsuhiko-dotemacs/atom-log" title="Atom feed for mitsuhiko-dotemacs"/>
    <link rel="alternate" type="application/rss+xml" href="/hg/mitsuhiko-dotemacs/rss-log" title="RSS feed for mitsuhiko-dotemacs"/>
</head>

<body>
<div id="container">
    <div class="page-header">
        <h1><a href="/hg/mitsuhiko-dotemacs/summary">mitsuhiko-dotemacs</a> / file revision</h1>

        <form action="/hg/mitsuhiko-dotemacs/log">
            
            <dl class="search">
                <dt><label>Search: </label></dt>
                <dd><input type="text" name="rev" /></dd>
            </dl>
        </form>

        <ul class="page-nav">
            <li><a href="/hg/mitsuhiko-dotemacs/summary">summary</a></li>
            <li><a href="/hg/mitsuhiko-dotemacs/shortlog">shortlog</a></li>
            <li><a href="/hg/mitsuhiko-dotemacs/changelog">changelog</a></li>
            <li><a href="/hg/mitsuhiko-dotemacs/graph/aeec9877d4cd">graph</a></li>
            <li><a href="/hg/mitsuhiko-dotemacs/tags">tags</a></li>
            <li><a href="/hg/mitsuhiko-dotemacs/file/aeec9877d4cd/cedet/semantic/">files</a></li>
        </ul>
    </div>

    <ul class="submenu">
        <li class="current">file</li>
        <li><a href="/hg/mitsuhiko-dotemacs/log/aeec9877d4cd/cedet/semantic/semantic-decorate-mode.el">revisions</a></li>
        <li><a href="/hg/mitsuhiko-dotemacs/annotate/aeec9877d4cd/cedet/semantic/semantic-decorate-mode.el">annotate</a></li>
        <li><a href="/hg/mitsuhiko-dotemacs/diff/aeec9877d4cd/cedet/semantic/semantic-decorate-mode.el">diff</a></li>
        <li><a href="/hg/mitsuhiko-dotemacs/raw-file/aeec9877d4cd/cedet/semantic/semantic-decorate-mode.el">raw</a></li>
    </ul>

    <h2 class="no-link no-border">cedet/semantic/semantic-decorate-mode.el@aeec9877d4cd</h2>
    <h3 class="changeset">cedet/semantic/semantic-decorate-mode.el</h3>
    <p class="changeset-age"><span>21 months ago</span></p>

    <dl class="overview">
        <dt>author</dt>
        <dd>&#109;&#105;&#116;&#115;&#117;&#104;&#105;&#107;&#111;</dd>
        <dt>date</dt>
        <dd>Thu Jul 09 20:47:24 2009 +0200</dd>
        
        <dt>changeset 44</dt>
        <dd><a class="list" href="/hg/mitsuhiko-dotemacs/rev/aeec9877d4cd">aeec9877d4cd</a></dd>
        
        
        <dt>permissions</dt>
        <dd>-rw-r--r--</dd>
    </dl>

    <p class="description">Added cedet.</p>

    <div class="source">
    <div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l1" id="l1">     1</a> <span class="c1">;;; semantic-decorate-mode.el --- Minor mode for decorating tags</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l2" id="l2">     2</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l3" id="l3">     3</a> <span class="c1">;;; Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005, 2007, 2008 Eric M. Ludlam</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l4" id="l4">     4</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l5" id="l5">     5</a> <span class="c1">;; Author: Eric M. Ludlam &lt;zappo@gnu.org&gt;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l6" id="l6">     6</a> <span class="c1">;; Keywords: syntax</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l7" id="l7">     7</a> <span class="c1">;; X-RCS: $Id: semantic-decorate-mode.el,v 1.26 2008/09/07 11:19:10 zappo Exp $</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l8" id="l8">     8</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l9" id="l9">     9</a> <span class="c1">;; This file is not part of GNU Emacs.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l10" id="l10">    10</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l11" id="l11">    11</a> <span class="c1">;; Semantic is free software; you can redistribute it and/or modify</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l12" id="l12">    12</a> <span class="c1">;; it under the terms of the GNU General Public License as published by</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l13" id="l13">    13</a> <span class="c1">;; the Free Software Foundation; either version 2, or (at your option)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l14" id="l14">    14</a> <span class="c1">;; any later version.:</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l15" id="l15">    15</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l16" id="l16">    16</a> <span class="c1">;; This software is distributed in the hope that it will be useful,</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l17" id="l17">    17</a> <span class="c1">;; but WITHOUT ANY WARRANTY; without even the implied warranty of</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l18" id="l18">    18</a> <span class="c1">;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l19" id="l19">    19</a> <span class="c1">;; GNU General Public License for more details.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l20" id="l20">    20</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l21" id="l21">    21</a> <span class="c1">;; You should have received a copy of the GNU General Public License</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l22" id="l22">    22</a> <span class="c1">;; along with GNU Emacs; see the file COPYING.  If not, write to the</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l23" id="l23">    23</a> <span class="c1">;; Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l24" id="l24">    24</a> <span class="c1">;; Boston, MA 02110-1301, USA.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l25" id="l25">    25</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l26" id="l26">    26</a> <span class="c1">;;; Commentary:</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l27" id="l27">    27</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l28" id="l28">    28</a> <span class="c1">;; A minor mode for use in decorating tags.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l29" id="l29">    29</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l30" id="l30">    30</a> <span class="c1">;; There are two types of decorations that can be performed on a tag.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l31" id="l31">    31</a> <span class="c1">;; You can either highlight the full tag, or you can add an</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l32" id="l32">    32</a> <span class="c1">;; independent decoration on some part of the tag body.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l33" id="l33">    33</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l34" id="l34">    34</a> <span class="c1">;; For independent decoration in particular, managing them so that they</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l35" id="l35">    35</a> <span class="c1">;; do not get corrupted is challenging.  This major mode and</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l36" id="l36">    36</a> <span class="c1">;; corresponding macros will make handling those types of decorations</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l37" id="l37">    37</a> <span class="c1">;; easier.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l38" id="l38">    38</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l39" id="l39">    39</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l40" id="l40">    40</a> <span class="c1">;;; Code:</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l41" id="l41">    41</a> <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;semantic</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l42" id="l42">    42</a> <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;semantic-decorate</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l43" id="l43">    43</a> <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;semantic-util-modes</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l44" id="l44">    44</a> <span class="p">(</span><span class="nv">eval-when-compile</span> <span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;cl</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l45" id="l45">    45</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l46" id="l46">    46</a> <span class="c1">;;; Styles List</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l47" id="l47">    47</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l48" id="l48">    48</a> <span class="p">(</span><span class="nv">defcustom</span> <span class="nv">semantic-decoration-styles</span> <span class="no">nil</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l49" id="l49">    49</a>   <span class="s">&quot;*List of active decoration styles.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l50" id="l50">    50</a> <span class="s">It is an alist of \(NAME . FLAG) elements, where NAME is a style name</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l51" id="l51">    51</a> <span class="s">and FLAG is non-nil if the style is enabled.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l52" id="l52">    52</a> <span class="s">See also `define-semantic-decoration-style&#39; which will automatically</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l53" id="l53">    53</a> <span class="s">add items to this list.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l54" id="l54">    54</a>   <span class="ss">:group</span> <span class="ss">&#39;semantic</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l55" id="l55">    55</a>   <span class="ss">:type</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">repeat</span> <span class="p">(</span><span class="nb">cons</span> <span class="p">(</span><span class="nb">string</span> <span class="ss">:tag</span> <span class="s">&quot;Decoration Name&quot;</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l56" id="l56">    56</a> 		       <span class="p">(</span><span class="kt">boolean</span> <span class="ss">:tag</span> <span class="s">&quot;Enabled&quot;</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l57" id="l57">    57</a>   <span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l58" id="l58">    58</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l59" id="l59">    59</a> <span class="c1">;;; Misc.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l60" id="l60">    60</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l61" id="l61">    61</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decorate-style-predicate</span> <span class="p">(</span><span class="nv">style</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l62" id="l62">    62</a>   <span class="s">&quot;Return the STYLE&#39;s predicate function.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l63" id="l63">    63</a>   <span class="p">(</span><span class="nb">intern</span> <span class="p">(</span><span class="nb">format</span> <span class="s">&quot;%s-p&quot;</span> <span class="nv">style</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l64" id="l64">    64</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l65" id="l65">    65</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decorate-style-highlighter</span> <span class="p">(</span><span class="nv">style</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l66" id="l66">    66</a>   <span class="s">&quot;Return the STYLE&#39;s highlighter function.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l67" id="l67">    67</a>   <span class="p">(</span><span class="nb">intern</span> <span class="p">(</span><span class="nb">format</span> <span class="s">&quot;%s-highlight&quot;</span> <span class="nv">style</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l68" id="l68">    68</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l69" id="l69">    69</a> <span class="c1">;;; Base decoration API</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l70" id="l70">    70</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l71" id="l71">    71</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-p</span> <span class="p">(</span><span class="nv">object</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l72" id="l72">    72</a>   <span class="s">&quot;Return non-nil if OBJECT is a tag decoration.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l73" id="l73">    73</a>   <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">semantic-overlay-p</span> <span class="nv">object</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l74" id="l74">    74</a>        <span class="p">(</span><span class="nv">semantic-overlay-get</span> <span class="nv">object</span> <span class="ss">&#39;semantic-decoration</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l75" id="l75">    75</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l76" id="l76">    76</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-set-property</span> <span class="p">(</span><span class="nv">deco</span> <span class="nv">property</span> <span class="nv">value</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l77" id="l77">    77</a>   <span class="s">&quot;Set the DECO decoration&#39;s PROPERTY to VALUE.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l78" id="l78">    78</a> <span class="s">Return DECO.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l79" id="l79">    79</a>   <span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nv">semantic-decoration-p</span> <span class="nv">deco</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l80" id="l80">    80</a>   <span class="p">(</span><span class="nv">semantic-overlay-put</span> <span class="nv">deco</span> <span class="nv">property</span> <span class="nv">value</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l81" id="l81">    81</a>   <span class="nv">deco</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l82" id="l82">    82</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l83" id="l83">    83</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-get-property</span> <span class="p">(</span><span class="nv">deco</span> <span class="nv">property</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l84" id="l84">    84</a>   <span class="s">&quot;Return the DECO decoration&#39;s PROPERTY value.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l85" id="l85">    85</a>   <span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nv">semantic-decoration-p</span> <span class="nv">deco</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l86" id="l86">    86</a>   <span class="p">(</span><span class="nv">semantic-overlay-get</span> <span class="nv">deco</span> <span class="nv">property</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l87" id="l87">    87</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l88" id="l88">    88</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-set-face</span> <span class="p">(</span><span class="nv">deco</span> <span class="nv">face</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l89" id="l89">    89</a>   <span class="s">&quot;Set the face of the decoration DECO to FACE.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l90" id="l90">    90</a> <span class="s">Return DECO.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l91" id="l91">    91</a>   <span class="p">(</span><span class="nv">semantic-decoration-set-property</span> <span class="nv">deco</span> <span class="ss">&#39;face</span> <span class="nv">face</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l92" id="l92">    92</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l93" id="l93">    93</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-face</span> <span class="p">(</span><span class="nv">deco</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l94" id="l94">    94</a>   <span class="s">&quot;Return the face of the decoration DECO.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l95" id="l95">    95</a>   <span class="p">(</span><span class="nv">semantic-decoration-get-property</span> <span class="nv">deco</span> <span class="ss">&#39;face</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l96" id="l96">    96</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l97" id="l97">    97</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-set-priority</span> <span class="p">(</span><span class="nv">deco</span> <span class="nv">priority</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l98" id="l98">    98</a>   <span class="s">&quot;Set the priority of the decoration DECO to PRIORITY.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l99" id="l99">    99</a> <span class="s">Return DECO.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l100" id="l100">   100</a>   <span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nv">natnump</span> <span class="nv">priority</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l101" id="l101">   101</a>   <span class="p">(</span><span class="nv">semantic-decoration-set-property</span> <span class="nv">deco</span> <span class="ss">&#39;priority</span> <span class="nv">priority</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l102" id="l102">   102</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l103" id="l103">   103</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-priority</span> <span class="p">(</span><span class="nv">deco</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l104" id="l104">   104</a>   <span class="s">&quot;Return the priority of the decoration DECO.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l105" id="l105">   105</a>   <span class="p">(</span><span class="nv">semantic-decoration-get-property</span> <span class="nv">deco</span> <span class="ss">&#39;priority</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l106" id="l106">   106</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l107" id="l107">   107</a> <span class="p">(</span><span class="nv">defsubst</span> <span class="nv">semantic-decoration-move</span> <span class="p">(</span><span class="nv">deco</span> <span class="nv">begin</span> <span class="nv">end</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l108" id="l108">   108</a>   <span class="s">&quot;Move the decoration DECO on the region between BEGIN and END.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l109" id="l109">   109</a> <span class="s">Return DECO.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l110" id="l110">   110</a>   <span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nv">semantic-decoration-p</span> <span class="nv">deco</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l111" id="l111">   111</a>   <span class="p">(</span><span class="nv">semantic-overlay-move</span> <span class="nv">deco</span> <span class="nv">begin</span> <span class="nv">end</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l112" id="l112">   112</a>   <span class="nv">deco</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l113" id="l113">   113</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l114" id="l114">   114</a> <span class="c1">;;; Tag decoration</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l115" id="l115">   115</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l116" id="l116">   116</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-tag</span> <span class="p">(</span><span class="nv">tag</span> <span class="nv">begin</span> <span class="nv">end</span> <span class="k">&amp;optional</span> <span class="nv">face</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l117" id="l117">   117</a>   <span class="s">&quot;Add a new decoration on TAG on the region between BEGIN and END.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l118" id="l118">   118</a> <span class="s">If optional argument FACE is non-nil, set the decoration&#39;s face to</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l119" id="l119">   119</a> <span class="s">FACE.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l120" id="l120">   120</a> <span class="s">Return the overlay that makes up the new decoration.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l121" id="l121">   121</a>   <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">deco</span> <span class="p">(</span><span class="nv">semantic-tag-create-secondary-overlay</span> <span class="nv">tag</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l122" id="l122">   122</a>     <span class="c1">;; We do not use the unlink property because we do not want to</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l123" id="l123">   123</a>     <span class="c1">;; save the highlighting information in the DB.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l124" id="l124">   124</a>     <span class="p">(</span><span class="nv">semantic-overlay-put</span> <span class="nv">deco</span> <span class="ss">&#39;semantic-decoration</span> <span class="no">t</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l125" id="l125">   125</a>     <span class="p">(</span><span class="nv">semantic-decoration-move</span> <span class="nv">deco</span> <span class="nv">begin</span> <span class="nv">end</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l126" id="l126">   126</a>     <span class="p">(</span><span class="nv">semantic-decoration-set-face</span> <span class="nv">deco</span> <span class="nv">face</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l127" id="l127">   127</a>     <span class="nv">deco</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l128" id="l128">   128</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l129" id="l129">   129</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-clear-tag</span> <span class="p">(</span><span class="nv">tag</span> <span class="k">&amp;optional</span> <span class="nv">deco</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l130" id="l130">   130</a>   <span class="s">&quot;Remove decorations from TAG.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l131" id="l131">   131</a> <span class="s">If optional argument DECO is non-nil, remove only that decoration.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l132" id="l132">   132</a>   <span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">or</span> <span class="p">(</span><span class="nb">null</span> <span class="nv">deco</span><span class="p">)</span> <span class="p">(</span><span class="nv">semantic-decoration-p</span> <span class="nv">deco</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l133" id="l133">   133</a>   <span class="c1">;; Clear primary decorations.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l134" id="l134">   134</a>   <span class="c1">;; For now, just unhighlight the tag.  How to deal with other</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l135" id="l135">   135</a>   <span class="c1">;; primary decorations like invisibility, etc. ?  Maybe just</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l136" id="l136">   136</a>   <span class="c1">;; restoring default values will suffice?</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l137" id="l137">   137</a>   <span class="p">(</span><span class="nv">semantic-unhighlight-tag</span> <span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l138" id="l138">   138</a>   <span class="p">(</span><span class="nv">semantic-tag-delete-secondary-overlay</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l139" id="l139">   139</a>    <span class="nv">tag</span> <span class="p">(</span><span class="nb">or</span> <span class="nv">deco</span> <span class="ss">&#39;semantic-decoration</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l140" id="l140">   140</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l141" id="l141">   141</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-tag-decoration</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l142" id="l142">   142</a>   <span class="s">&quot;Return decoration found on TAG.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l143" id="l143">   143</a>   <span class="p">(</span><span class="nv">semantic-tag-get-secondary-overlay</span> <span class="nv">tag</span> <span class="ss">&#39;semantic-decoration</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l144" id="l144">   144</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l145" id="l145">   145</a> <span class="c1">;;; Global setup of active decorations</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l146" id="l146">   146</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l147" id="l147">   147</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-flush-decorations</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">buffer</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l148" id="l148">   148</a>   <span class="s">&quot;Flush decorations found in BUFFER.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l149" id="l149">   149</a> <span class="s">BUFFER defaults to the current buffer.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l150" id="l150">   150</a> <span class="s">Should be used to flush decorations that might remain in BUFFER, for</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l151" id="l151">   151</a> <span class="s">example, after tags have been refreshed.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l152" id="l152">   152</a>   <span class="p">(</span><span class="nv">with-current-buffer</span> <span class="p">(</span><span class="nb">or</span> <span class="nv">buffer</span> <span class="p">(</span><span class="nv">current-buffer</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l153" id="l153">   153</a>     <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">o</span> <span class="p">(</span><span class="nv">semantic-overlays-in</span> <span class="p">(</span><span class="nv">point-min</span><span class="p">)</span> <span class="p">(</span><span class="nv">point-max</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l154" id="l154">   154</a>       <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">semantic-decoration-p</span> <span class="nv">o</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l155" id="l155">   155</a>            <span class="p">(</span><span class="nv">semantic-overlay-delete</span> <span class="nv">o</span><span class="p">)))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l156" id="l156">   156</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l157" id="l157">   157</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-clear-decorations</span> <span class="p">(</span><span class="nv">tag-list</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l158" id="l158">   158</a>   <span class="s">&quot;Remove decorations found in tags in TAG-LIST.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l159" id="l159">   159</a>   <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">tag</span> <span class="nv">tag-list</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l160" id="l160">   160</a>     <span class="p">(</span><span class="nv">semantic-decorate-clear-tag</span> <span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l161" id="l161">   161</a>     <span class="c1">;; recurse over children</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l162" id="l162">   162</a>     <span class="p">(</span><span class="nv">semantic-decorate-clear-decorations</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l163" id="l163">   163</a>      <span class="p">(</span><span class="nv">semantic-tag-components-with-overlays</span> <span class="nv">tag</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l164" id="l164">   164</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l165" id="l165">   165</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-add-decorations</span> <span class="p">(</span><span class="nv">tag-list</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l166" id="l166">   166</a>   <span class="s">&quot;Add decorations to tags in TAG-LIST.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l167" id="l167">   167</a> <span class="s">Also make sure old decorations in the area are completely flushed.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l168" id="l168">   168</a>   <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">tag</span> <span class="nv">tag-list</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l169" id="l169">   169</a>     <span class="c1">;; Cleanup old decorations.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l170" id="l170">   170</a>     <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">semantic-decorate-tag-decoration</span> <span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l171" id="l171">   171</a>       <span class="c1">;; Note on below comment.   This happens more as decorations are refreshed</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l172" id="l172">   172</a>       <span class="c1">;; mid-way through their use.  Remove the message.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l173" id="l173">   173</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l174" id="l174">   174</a>       <span class="c1">;; It would be nice if this never happened, but it still does</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l175" id="l175">   175</a>       <span class="c1">;; once in a while.  Print a message to help flush these</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l176" id="l176">   176</a>       <span class="c1">;; situations</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l177" id="l177">   177</a>       <span class="c1">;;(message &quot;Decorations still on %s&quot; (semantic-format-tag-name tag))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l178" id="l178">   178</a>       <span class="p">(</span><span class="nv">semantic-decorate-clear-tag</span> <span class="nv">tag</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l179" id="l179">   179</a>     <span class="c1">;; Add new decorations.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l180" id="l180">   180</a>     <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">style</span> <span class="nv">semantic-decoration-styles</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l181" id="l181">   181</a>       <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">pred</span> <span class="p">(</span><span class="nv">semantic-decorate-style-predicate</span>   <span class="p">(</span><span class="nb">car</span> <span class="nv">style</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l182" id="l182">   182</a> 	    <span class="p">(</span><span class="nv">high</span> <span class="p">(</span><span class="nv">semantic-decorate-style-highlighter</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">style</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l183" id="l183">   183</a> 	<span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">cdr</span> <span class="nv">style</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l184" id="l184">   184</a> 	     <span class="p">(</span><span class="nb">fboundp</span> <span class="nv">pred</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l185" id="l185">   185</a> 	     <span class="p">(</span><span class="nb">funcall</span> <span class="nv">pred</span> <span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l186" id="l186">   186</a> 	     <span class="p">(</span><span class="nb">fboundp</span> <span class="nv">high</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l187" id="l187">   187</a> 	     <span class="p">(</span><span class="nb">funcall</span> <span class="nv">high</span> <span class="nv">tag</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l188" id="l188">   188</a>     <span class="c1">;; Recurse on the children of all tags</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l189" id="l189">   189</a>     <span class="p">(</span><span class="nv">semantic-decorate-add-decorations</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l190" id="l190">   190</a>      <span class="p">(</span><span class="nv">semantic-tag-components-with-overlays</span> <span class="nv">tag</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l191" id="l191">   191</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l192" id="l192">   192</a> <span class="c1">;;; PENDING DECORATIONS</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l193" id="l193">   193</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l194" id="l194">   194</a> <span class="c1">;; Activities in Emacs may cause a decoration to change state.  Any</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l195" id="l195">   195</a> <span class="c1">;; such identified change ought to be setup as PENDING.  This means</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l196" id="l196">   196</a> <span class="c1">;; that the next idle step will do the decoration change, but at the</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l197" id="l197">   197</a> <span class="c1">;; time of the state change, minimal work would be done.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l198" id="l198">   198</a> <span class="p">(</span><span class="nb">defvar</span> <span class="nv">semantic-decorate-pending-decoration-hooks</span> <span class="no">nil</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l199" id="l199">   199</a>   <span class="s">&quot;Functions to call with pending decoration changes.&quot;</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l200" id="l200">   200</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l201" id="l201">   201</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-add-pending-decoration</span> <span class="p">(</span><span class="nv">fcn</span> <span class="k">&amp;optional</span> <span class="nv">buffer</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l202" id="l202">   202</a>   <span class="s">&quot;Add a pending decoration change represented by FCN.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l203" id="l203">   203</a> <span class="s">Applies only to the current BUFFER.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l204" id="l204">   204</a> <span class="s">The setting of FCN will be removed after it is run.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l205" id="l205">   205</a>   <span class="p">(</span><span class="nv">save-excursion</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l206" id="l206">   206</a>     <span class="p">(</span><span class="nb">when</span> <span class="nv">buffer</span> <span class="p">(</span><span class="nv">set-buffer</span> <span class="nv">buffer</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l207" id="l207">   207</a>     <span class="p">(</span><span class="nv">semantic-make-local-hook</span> <span class="ss">&#39;semantic-decorate-flush-pending-decorations</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l208" id="l208">   208</a>     <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;semantic-decorate-pending-decoration-hooks</span> <span class="nv">fcn</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l209" id="l209">   209</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l210" id="l210">   210</a> <span class="c1">;;;###autoload</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l211" id="l211">   211</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-flush-pending-decorations</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">buffer</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l212" id="l212">   212</a>   <span class="s">&quot;Flush any pending decorations for BUFFER.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l213" id="l213">   213</a> <span class="s">Flush functions from `semantic-decorate-pending-decoration-hooks&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l214" id="l214">   214</a>   <span class="p">(</span><span class="nv">save-excursion</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l215" id="l215">   215</a>     <span class="p">(</span><span class="nb">when</span> <span class="nv">buffer</span> <span class="p">(</span><span class="nv">set-buffer</span> <span class="nv">buffer</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l216" id="l216">   216</a>     <span class="p">(</span><span class="nv">run-hooks</span> <span class="ss">&#39;semantic-decorate-pending-decoration-hooks</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l217" id="l217">   217</a>     <span class="c1">;; Always reset the hooks</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l218" id="l218">   218</a>     <span class="p">(</span><span class="k">setq</span> <span class="nv">semantic-decorate-pending-decoration-hooks</span> <span class="no">nil</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l219" id="l219">   219</a>   </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l220" id="l220">   220</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l221" id="l221">   221</a> <span class="c1">;;; DECORATION MODE</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l222" id="l222">   222</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l223" id="l223">   223</a> <span class="c1">;; Generic mode for handling basic highlighting and decorations.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l224" id="l224">   224</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l225" id="l225">   225</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l226" id="l226">   226</a> <span class="c1">;;;###autoload</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l227" id="l227">   227</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">global-semantic-decoration-mode</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">arg</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l228" id="l228">   228</a>   <span class="s">&quot;Toggle global use of option `semantic-decoration-mode&#39;.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l229" id="l229">   229</a> <span class="s">Decoration mode turns on all active decorations as specified</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l230" id="l230">   230</a> <span class="s">by `semantic-decoration-styles&#39;.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l231" id="l231">   231</a> <span class="s">If ARG is positive, enable, if it is negative, disable.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l232" id="l232">   232</a> <span class="s">If ARG is nil, then toggle.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l233" id="l233">   233</a>   <span class="p">(</span><span class="nv">interactive</span> <span class="s">&quot;P&quot;</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l234" id="l234">   234</a>   <span class="p">(</span><span class="k">setq</span> <span class="nv">global-semantic-decoration-mode</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l235" id="l235">   235</a>         <span class="p">(</span><span class="nv">semantic-toggle-minor-mode-globally</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l236" id="l236">   236</a>          <span class="ss">&#39;semantic-decoration-mode</span> <span class="nv">arg</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l237" id="l237">   237</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l238" id="l238">   238</a> <span class="c1">;;;###autoload</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l239" id="l239">   239</a> <span class="p">(</span><span class="nv">defcustom</span> <span class="nv">global-semantic-decoration-mode</span> <span class="no">nil</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l240" id="l240">   240</a>   <span class="s">&quot;*If non-nil, enable global use of command `semantic-decoration-mode&#39;.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l241" id="l241">   241</a> <span class="s">When this mode is activated, decorations specified by</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l242" id="l242">   242</a> <span class="s">`semantic-decoration-styles&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l243" id="l243">   243</a>   <span class="ss">:group</span> <span class="ss">&#39;semantic</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l244" id="l244">   244</a>   <span class="ss">:group</span> <span class="ss">&#39;semantic-modes</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l245" id="l245">   245</a>   <span class="ss">:type</span> <span class="ss">&#39;boolean</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l246" id="l246">   246</a>   <span class="ss">:require</span> <span class="ss">&#39;semantic-decorate-mode</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l247" id="l247">   247</a>   <span class="ss">:initialize</span> <span class="ss">&#39;custom-initialize-default</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l248" id="l248">   248</a>   <span class="ss">:set</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">sym</span> <span class="nv">val</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l249" id="l249">   249</a>          <span class="p">(</span><span class="nv">global-semantic-decoration-mode</span> <span class="p">(</span><span class="k">if</span> <span class="nv">val</span> <span class="mi">1</span> <span class="mi">-1</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l250" id="l250">   250</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l251" id="l251">   251</a> <span class="p">(</span><span class="nv">defcustom</span> <span class="nv">semantic-decoration-mode-hook</span> <span class="no">nil</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l252" id="l252">   252</a>   <span class="s">&quot;*Hook run at the end of function `semantic-decoration-mode&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l253" id="l253">   253</a>   <span class="ss">:group</span> <span class="ss">&#39;semantic</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l254" id="l254">   254</a>   <span class="ss">:type</span> <span class="ss">&#39;hook</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l255" id="l255">   255</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l256" id="l256">   256</a> <span class="c1">;;;###autoload</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l257" id="l257">   257</a> <span class="p">(</span><span class="nb">defvar</span> <span class="nv">semantic-decoration-mode</span> <span class="no">nil</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l258" id="l258">   258</a>   <span class="s">&quot;Non-nil if command `semantic-decoration-mode&#39; is enabled.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l259" id="l259">   259</a> <span class="s">Use the command `semantic-decoration-mode&#39; to change this variable.&quot;</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l260" id="l260">   260</a> <span class="p">(</span><span class="nv">make-variable-buffer-local</span> <span class="ss">&#39;semantic-decoration-mode</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l261" id="l261">   261</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l262" id="l262">   262</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-mode-setup</span> <span class="p">()</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l263" id="l263">   263</a>   <span class="s">&quot;Setup the `semantic-decoration-mode&#39; minor mode.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l264" id="l264">   264</a> <span class="s">The minor mode can be turned on only if the semantic feature is available</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l265" id="l265">   265</a> <span class="s">and the current buffer was set up for parsing.  Return non-nil if the</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l266" id="l266">   266</a> <span class="s">minor mode is enabled.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l267" id="l267">   267</a>   <span class="p">(</span><span class="k">if</span> <span class="nv">semantic-decoration-mode</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l268" id="l268">   268</a>       <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">featurep</span> <span class="ss">&#39;semantic</span><span class="p">)</span> <span class="p">(</span><span class="nv">semantic-active-p</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l269" id="l269">   269</a>           <span class="p">(</span><span class="k">progn</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l270" id="l270">   270</a>             <span class="c1">;; Disable minor mode if semantic stuff not available</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l271" id="l271">   271</a>             <span class="p">(</span><span class="k">setq</span> <span class="nv">semantic-decoration-mode</span> <span class="no">nil</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l272" id="l272">   272</a>             <span class="p">(</span><span class="nb">error</span> <span class="s">&quot;Buffer %s was not set up for parsing&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l273" id="l273">   273</a>                    <span class="p">(</span><span class="nv">buffer-name</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l274" id="l274">   274</a>         <span class="c1">;; Add hooks</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l275" id="l275">   275</a>         <span class="p">(</span><span class="nv">semantic-make-local-hook</span> <span class="ss">&#39;semantic-after-partial-cache-change-hook</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l276" id="l276">   276</a>         <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;semantic-after-partial-cache-change-hook</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l277" id="l277">   277</a>                   <span class="ss">&#39;semantic-decorate-tags-after-partial-reparse</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l278" id="l278">   278</a>         <span class="p">(</span><span class="nv">semantic-make-local-hook</span> <span class="ss">&#39;semantic-after-toplevel-cache-change-hook</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l279" id="l279">   279</a>         <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;semantic-after-toplevel-cache-change-hook</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l280" id="l280">   280</a>                   <span class="ss">&#39;semantic-decorate-tags-after-full-reparse</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l281" id="l281">   281</a>         <span class="c1">;; Add decorations to available tags.  The above hooks ensure</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l282" id="l282">   282</a>         <span class="c1">;; that new tags will be decorated when they become available.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l283" id="l283">   283</a>         <span class="p">(</span><span class="nv">semantic-decorate-add-decorations</span> <span class="p">(</span><span class="nv">semantic-fetch-available-tags</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l284" id="l284">   284</a>         <span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l285" id="l285">   285</a>     <span class="c1">;; Remove decorations from available tags.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l286" id="l286">   286</a>     <span class="p">(</span><span class="nv">semantic-decorate-clear-decorations</span> <span class="p">(</span><span class="nv">semantic-fetch-available-tags</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l287" id="l287">   287</a>     <span class="c1">;; Cleanup any leftover crap too.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l288" id="l288">   288</a>     <span class="p">(</span><span class="nv">semantic-decorate-flush-decorations</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l289" id="l289">   289</a>     <span class="c1">;; Remove hooks</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l290" id="l290">   290</a>     <span class="p">(</span><span class="nv">remove-hook</span> <span class="ss">&#39;semantic-after-partial-cache-change-hook</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l291" id="l291">   291</a>                  <span class="ss">&#39;semantic-decorate-tags-after-partial-reparse</span> <span class="no">t</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l292" id="l292">   292</a>     <span class="p">(</span><span class="nv">remove-hook</span> <span class="ss">&#39;semantic-after-toplevel-cache-change-hook</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l293" id="l293">   293</a>                  <span class="ss">&#39;semantic-decorate-tags-after-full-reparse</span> <span class="no">t</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l294" id="l294">   294</a>     <span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l295" id="l295">   295</a>   <span class="nv">semantic-decoration-mode</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l296" id="l296">   296</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l297" id="l297">   297</a> <span class="c1">;;;###autoload</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l298" id="l298">   298</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-mode</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">arg</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l299" id="l299">   299</a>   <span class="s">&quot;Minor mode for decorating tags.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l300" id="l300">   300</a> <span class="s">Decorations are specified in `semantic-decoration-styles&#39;.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l301" id="l301">   301</a> <span class="s">You can define new decoration styles with</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l302" id="l302">   302</a> <span class="s">`define-semantic-decoration-style&#39;.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l303" id="l303">   303</a> <span class="s">With prefix argument ARG, turn on if positive, otherwise off.  The</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l304" id="l304">   304</a> <span class="s">minor mode can be turned on only if semantic feature is available and</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l305" id="l305">   305</a> <span class="s">the current buffer was set up for parsing.  Return non-nil if the</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l306" id="l306">   306</a> <span class="s">minor mode is enabled.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l307" id="l307">   307</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l308" id="l308">   308</a> <span class="c1">;;\\{semantic-decoration-map}&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l309" id="l309">   309</a>   <span class="p">(</span><span class="nv">interactive</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l310" id="l310">   310</a>    <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nb">or</span> <span class="nv">current-prefix-arg</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l311" id="l311">   311</a>              <span class="p">(</span><span class="k">if</span> <span class="nv">semantic-decoration-mode</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l312" id="l312">   312</a>   <span class="p">(</span><span class="k">setq</span> <span class="nv">semantic-decoration-mode</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l313" id="l313">   313</a>         <span class="p">(</span><span class="k">if</span> <span class="nv">arg</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l314" id="l314">   314</a>             <span class="p">(</span><span class="nb">&gt;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l315" id="l315">   315</a>              <span class="p">(</span><span class="nv">prefix-numeric-value</span> <span class="nv">arg</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l316" id="l316">   316</a>              <span class="mi">0</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l317" id="l317">   317</a>           <span class="p">(</span><span class="nb">not</span> <span class="nv">semantic-decoration-mode</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l318" id="l318">   318</a>   <span class="p">(</span><span class="nv">semantic-decoration-mode-setup</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l319" id="l319">   319</a>   <span class="p">(</span><span class="nv">run-hooks</span> <span class="ss">&#39;semantic-decoration-mode-hook</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l320" id="l320">   320</a>   <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">interactive-p</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l321" id="l321">   321</a>       <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;decoration-mode minor mode %sabled&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l322" id="l322">   322</a>                <span class="p">(</span><span class="k">if</span> <span class="nv">semantic-decoration-mode</span> <span class="s">&quot;en&quot;</span> <span class="s">&quot;dis&quot;</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l323" id="l323">   323</a>   <span class="p">(</span><span class="nv">semantic-mode-line-update</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l324" id="l324">   324</a>   <span class="nv">semantic-decoration-mode</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l325" id="l325">   325</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l326" id="l326">   326</a> <span class="p">(</span><span class="nv">semantic-add-minor-mode</span> <span class="ss">&#39;semantic-decoration-mode</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l327" id="l327">   327</a>                          <span class="s">&quot;&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l328" id="l328">   328</a>                          <span class="no">nil</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l329" id="l329">   329</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l330" id="l330">   330</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-tags-after-full-reparse</span> <span class="p">(</span><span class="nv">tag-list</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l331" id="l331">   331</a>   <span class="s">&quot;Add decorations after a complete reparse of the current buffer.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l332" id="l332">   332</a> <span class="s">TAG-LIST is the list of tags recently parsed.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l333" id="l333">   333</a> <span class="s">Flush all existing decorations and call `semantic-decorate-add-decorations&#39; to</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l334" id="l334">   334</a> <span class="s">add decorations.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l335" id="l335">   335</a> <span class="s">Called from `semantic-after-toplevel-cache-change-hook&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l336" id="l336">   336</a>   <span class="c1">;; Flush everything</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l337" id="l337">   337</a>   <span class="p">(</span><span class="nv">semantic-decorate-flush-decorations</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l338" id="l338">   338</a>   <span class="c1">;; Add it back on</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l339" id="l339">   339</a>   <span class="p">(</span><span class="nv">semantic-decorate-add-decorations</span> <span class="nv">tag-list</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l340" id="l340">   340</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l341" id="l341">   341</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decorate-tags-after-partial-reparse</span> <span class="p">(</span><span class="nv">tag-list</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l342" id="l342">   342</a>   <span class="s">&quot;Add decorations when new tags are created in the current buffer.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l343" id="l343">   343</a> <span class="s">TAG-LIST is the list of newly created tags.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l344" id="l344">   344</a> <span class="s">Call `semantic-decorate-add-decorations&#39; to add decorations.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l345" id="l345">   345</a> <span class="s">Called from `semantic-after-partial-cache-change-hook&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l346" id="l346">   346</a>   <span class="p">(</span><span class="nv">semantic-decorate-add-decorations</span> <span class="nv">tag-list</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l347" id="l347">   347</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l348" id="l348">   348</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l349" id="l349">   349</a> <span class="c1">;;; Enable/Disable toggling</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l350" id="l350">   350</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l351" id="l351">   351</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-style-enabled-p</span> <span class="p">(</span><span class="nv">style</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l352" id="l352">   352</a>   <span class="s">&quot;Return non-nil if STYLE is currently enabled.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l353" id="l353">   353</a> <span class="s">Return nil if the style is disabled, or does not exist.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l354" id="l354">   354</a>   <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">pair</span> <span class="p">(</span><span class="nb">assoc</span> <span class="nv">style</span> <span class="nv">semantic-decoration-styles</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l355" id="l355">   355</a>     <span class="p">(</span><span class="nb">and</span> <span class="nv">pair</span> <span class="p">(</span><span class="nb">cdr</span> <span class="nv">pair</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l356" id="l356">   356</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l357" id="l357">   357</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-toggle-decoration-style</span> <span class="p">(</span><span class="nv">name</span> <span class="k">&amp;optional</span> <span class="nv">arg</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l358" id="l358">   358</a>   <span class="s">&quot;Turn on/off the decoration style with NAME.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l359" id="l359">   359</a> <span class="s">Decorations are specified in `semantic-decoration-styles&#39;.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l360" id="l360">   360</a> <span class="s">With prefix argument ARG, turn on if positive, otherwise off.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l361" id="l361">   361</a> <span class="s">Return non-nil if the decoration style is enabled.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l362" id="l362">   362</a>   <span class="p">(</span><span class="nv">interactive</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l363" id="l363">   363</a>    <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nv">completing-read</span> <span class="s">&quot;Decoration style: &quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l364" id="l364">   364</a>                           <span class="nv">semantic-decoration-styles</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l365" id="l365">   365</a>          <span class="nv">current-prefix-arg</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l366" id="l366">   366</a>   <span class="p">(</span><span class="k">setq</span> <span class="nv">name</span> <span class="p">(</span><span class="nb">format</span> <span class="s">&quot;%s&quot;</span> <span class="nv">name</span><span class="p">))</span> <span class="c1">;; Ensure NAME is a string.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l367" id="l367">   367</a>   <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nb">equal</span> <span class="nv">name</span> <span class="s">&quot;&quot;</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l368" id="l368">   368</a>     <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">style</span> <span class="p">(</span><span class="nb">assoc</span> <span class="nv">name</span> <span class="nv">semantic-decoration-styles</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l369" id="l369">   369</a>            <span class="p">(</span><span class="nv">flag</span>  <span class="p">(</span><span class="k">if</span> <span class="nv">arg</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l370" id="l370">   370</a>                       <span class="p">(</span><span class="nb">&gt;</span> <span class="p">(</span><span class="nv">prefix-numeric-value</span> <span class="nv">arg</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l371" id="l371">   371</a>                     <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nb">cdr</span> <span class="nv">style</span><span class="p">)))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l372" id="l372">   372</a>       <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nb">eq</span> <span class="p">(</span><span class="nb">cdr</span> <span class="nv">style</span><span class="p">)</span> <span class="nv">flag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l373" id="l373">   373</a>         <span class="c1">;; Store the new flag.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l374" id="l374">   374</a>         <span class="p">(</span><span class="nv">setcdr</span> <span class="nv">style</span> <span class="nv">flag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l375" id="l375">   375</a>         <span class="c1">;; Refresh decorations is `semantic-decoration-mode&#39; is on.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l376" id="l376">   376</a>         <span class="p">(</span><span class="nb">when</span> <span class="nv">semantic-decoration-mode</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l377" id="l377">   377</a>           <span class="p">(</span><span class="nv">semantic-decoration-mode</span> <span class="mi">-1</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l378" id="l378">   378</a>           <span class="p">(</span><span class="nv">semantic-decoration-mode</span> <span class="mi">1</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l379" id="l379">   379</a>         <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">interactive-p</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l380" id="l380">   380</a>           <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;Decoration style %s turned %s&quot;</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">style</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l381" id="l381">   381</a>                    <span class="p">(</span><span class="k">if</span> <span class="nv">flag</span> <span class="s">&quot;on&quot;</span> <span class="s">&quot;off&quot;</span><span class="p">))))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l382" id="l382">   382</a>       <span class="nv">flag</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l383" id="l383">   383</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l384" id="l384">   384</a> <span class="p">(</span><span class="nb">defvar</span> <span class="nv">semantic-decoration-menu-cache</span> <span class="no">nil</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l385" id="l385">   385</a>   <span class="s">&quot;Cache of the decoration menu.&quot;</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l386" id="l386">   386</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l387" id="l387">   387</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-build-style-menu</span> <span class="p">(</span><span class="nv">style</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l388" id="l388">   388</a>   <span class="s">&quot;Build a menu item for controlling a specific decoration STYLE.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l389" id="l389">   389</a>   <span class="p">(</span><span class="nb">vector</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">style</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l390" id="l390">   390</a> 	  <span class="o">`</span><span class="p">(</span><span class="k">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l391" id="l391">   391</a> 	     <span class="p">(</span><span class="nv">semantic-toggle-decoration-style</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l392" id="l392">   392</a> 	      <span class="o">,</span><span class="p">(</span><span class="nb">car</span> <span class="nv">style</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l393" id="l393">   393</a> 	  <span class="ss">:style</span> <span class="ss">&#39;toggle</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l394" id="l394">   394</a> 	  <span class="ss">:selected</span> <span class="o">`</span><span class="p">(</span><span class="nv">semantic-decoration-style-enabled-p</span> <span class="o">,</span><span class="p">(</span><span class="nb">car</span> <span class="nv">style</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l395" id="l395">   395</a> 	  <span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l396" id="l396">   396</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l397" id="l397">   397</a> <span class="c1">;;;###autoload</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l398" id="l398">   398</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-build-decoration-mode-menu</span> <span class="p">(</span><span class="k">&amp;rest</span> <span class="k">ignore</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l399" id="l399">   399</a>   <span class="s">&quot;Create a menu listing all the known decorations for toggling.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l400" id="l400">   400</a> <span class="s">IGNORE any input arguments.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l401" id="l401">   401</a>   <span class="p">(</span><span class="nb">or</span> <span class="nv">semantic-decoration-menu-cache</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l402" id="l402">   402</a>       <span class="p">(</span><span class="k">setq</span> <span class="nv">semantic-decoration-menu-cache</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l403" id="l403">   403</a> 	    <span class="p">(</span><span class="nb">mapcar</span> <span class="ss">&#39;semantic-decoration-build-style-menu</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l404" id="l404">   404</a> 		    <span class="p">(</span><span class="nb">reverse</span> <span class="nv">semantic-decoration-styles</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l405" id="l405">   405</a> 	    <span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l406" id="l406">   406</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l407" id="l407">   407</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l408" id="l408">   408</a> <span class="c1">;;; Defining decoration styles</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l409" id="l409">   409</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l410" id="l410">   410</a> <span class="p">(</span><span class="nb">defmacro</span> <span class="nv">define-semantic-decoration-style</span> <span class="p">(</span><span class="nv">name</span> <span class="nv">doc</span> <span class="k">&amp;rest</span> <span class="nv">flags</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l411" id="l411">   411</a>   <span class="s">&quot;Define a new decoration style with NAME.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l412" id="l412">   412</a> <span class="s">DOC is a documentation string describing the decoration style NAME.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l413" id="l413">   413</a> <span class="s">It is appended to auto-generated doc strings.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l414" id="l414">   414</a> <span class="s">An Optional list of FLAGS can also be specified.  Flags are:</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l415" id="l415">   415</a> <span class="s">  :enabled &lt;value&gt;  - specify the default enabled value for NAME.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l416" id="l416">   416</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l417" id="l417">   417</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l418" id="l418">   418</a> <span class="s">This defines two new overload functions respectively called `NAME-p&#39;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l419" id="l419">   419</a> <span class="s">and `NAME-highlight&#39;, for which you must provide a default</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l420" id="l420">   420</a> <span class="s">implementation in respectively the functions `NAME-p-default&#39; and</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l421" id="l421">   421</a> <span class="s">`NAME-highlight-default&#39;.  Those functions are passed a tag.  `NAME-p&#39;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l422" id="l422">   422</a> <span class="s">must return non-nil to indicate that the tag should be decorated by</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l423" id="l423">   423</a> <span class="s">`NAME-highlight&#39;.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l424" id="l424">   424</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l425" id="l425">   425</a> <span class="s">To put primary decorations on a tag `NAME-highlight&#39; must use</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l426" id="l426">   426</a> <span class="s">functions like `semantic-set-tag-face&#39;, `semantic-set-tag-intangible&#39;,</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l427" id="l427">   427</a> <span class="s">etc., found in the semantic-decorate library.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l428" id="l428">   428</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l429" id="l429">   429</a> <span class="s">To add other kind of decorations on a tag, `NAME-highlight&#39; must use</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l430" id="l430">   430</a> <span class="s">`semantic-decorate-tag&#39;, and other functions of the semantic</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l431" id="l431">   431</a> <span class="s">decoration API found in this library.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l432" id="l432">   432</a>   <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">predicate</span>   <span class="p">(</span><span class="nv">semantic-decorate-style-predicate</span>   <span class="nv">name</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l433" id="l433">   433</a>         <span class="p">(</span><span class="nv">highlighter</span> <span class="p">(</span><span class="nv">semantic-decorate-style-highlighter</span> <span class="nv">name</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l434" id="l434">   434</a> 	<span class="p">(</span><span class="nv">defaultenable</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">plist-member</span> <span class="nv">flags</span> <span class="ss">:enabled</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l435" id="l435">   435</a> 			   <span class="p">(</span><span class="nv">plist-get</span> <span class="nv">flags</span> <span class="ss">:enabled</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l436" id="l436">   436</a> 			 <span class="no">t</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l437" id="l437">   437</a> 	<span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l438" id="l438">   438</a>     <span class="o">`</span><span class="p">(</span><span class="k">progn</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l439" id="l439">   439</a>        <span class="c1">;; Clear the menu cache so that new items are added when</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l440" id="l440">   440</a>        <span class="c1">;; needed.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l441" id="l441">   441</a>        <span class="p">(</span><span class="k">setq</span> <span class="nv">semantic-decoration-menu-cache</span> <span class="no">nil</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l442" id="l442">   442</a>        <span class="c1">;; Create an override method to specify if a given tag belongs</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l443" id="l443">   443</a>        <span class="c1">;; to this type of decoration</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l444" id="l444">   444</a>        <span class="p">(</span><span class="nv">define-overloadable-function</span> <span class="o">,</span><span class="nv">predicate</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l445" id="l445">   445</a>          <span class="o">,</span><span class="p">(</span><span class="nb">format</span> <span class="s">&quot;Return non-nil to decorate TAG with `%s&#39; style.\n%s&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l446" id="l446">   446</a>                   <span class="nv">name</span> <span class="nv">doc</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l447" id="l447">   447</a>        <span class="c1">;; Create an override method that will perform the highlight</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l448" id="l448">   448</a>        <span class="c1">;; operation if the -p method returns non-nil.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l449" id="l449">   449</a>        <span class="p">(</span><span class="nv">define-overloadable-function</span> <span class="o">,</span><span class="nv">highlighter</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l450" id="l450">   450</a>          <span class="o">,</span><span class="p">(</span><span class="nb">format</span> <span class="s">&quot;Decorate TAG with `%s&#39; style.\n%s&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l451" id="l451">   451</a>                   <span class="nv">name</span> <span class="nv">doc</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l452" id="l452">   452</a>        <span class="c1">;; Add this to the list of primary decoration modes.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l453" id="l453">   453</a>        <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;semantic-decoration-styles</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l454" id="l454">   454</a>                     <span class="p">(</span><span class="nb">cons</span> <span class="ss">&#39;,</span><span class="p">(</span><span class="nb">symbol-name</span> <span class="nv">name</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l455" id="l455">   455</a> 			  <span class="o">,</span><span class="nv">defaultenable</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l456" id="l456">   456</a>        <span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l457" id="l457">   457</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l458" id="l458">   458</a> <span class="c1">;;; Predefined decoration styles</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l459" id="l459">   459</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l460" id="l460">   460</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l461" id="l461">   461</a> <span class="c1">;;; Tag boundaries highlighting</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l462" id="l462">   462</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l463" id="l463">   463</a> <span class="p">(</span><span class="nv">define-semantic-decoration-style</span> <span class="nv">semantic-tag-boundary</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l464" id="l464">   464</a>   <span class="s">&quot;Place an overline in front of each long tag.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l465" id="l465">   465</a> <span class="s">Does not provide overlines for prototypes.&quot;</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l466" id="l466">   466</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l467" id="l467">   467</a> <span class="p">(</span><span class="nv">defface</span> <span class="nv">semantic-tag-boundary-face</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l468" id="l468">   468</a>   <span class="o">&#39;</span><span class="p">((((</span><span class="nc">class</span> <span class="nv">color</span><span class="p">)</span> <span class="p">(</span><span class="nv">background</span> <span class="nv">dark</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l469" id="l469">   469</a>      <span class="p">(</span><span class="ss">:overline</span> <span class="s">&quot;cyan&quot;</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l470" id="l470">   470</a>     <span class="p">(((</span><span class="nc">class</span> <span class="nv">color</span><span class="p">)</span> <span class="p">(</span><span class="nv">background</span> <span class="nv">light</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l471" id="l471">   471</a>      <span class="p">(</span><span class="ss">:overline</span> <span class="s">&quot;blue&quot;</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l472" id="l472">   472</a>   <span class="s">&quot;*Face used to show long tags in.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l473" id="l473">   473</a> <span class="s">Used by decoration style: `semantic-tag-boundary&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l474" id="l474">   474</a>   <span class="ss">:group</span> <span class="ss">&#39;semantic-faces</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l475" id="l475">   475</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l476" id="l476">   476</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-tag-boundary-p-default</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l477" id="l477">   477</a>   <span class="s">&quot;Return non-nil if TAG is a type, or a non-prototype function.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l478" id="l478">   478</a>   <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">c</span> <span class="p">(</span><span class="nv">semantic-tag-class</span> <span class="nv">tag</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l479" id="l479">   479</a>     <span class="p">(</span><span class="nb">and</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l480" id="l480">   480</a>      <span class="p">(</span><span class="nb">or</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l481" id="l481">   481</a>       <span class="c1">;; All types get a line?</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l482" id="l482">   482</a>       <span class="p">(</span><span class="nb">eq</span> <span class="nv">c</span> <span class="ss">&#39;type</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l483" id="l483">   483</a>       <span class="c1">;; Functions which aren&#39;t prototypes get a line.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l484" id="l484">   484</a>       <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">c</span> <span class="ss">&#39;function</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l485" id="l485">   485</a>            <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nv">semantic-tag-get-attribute</span> <span class="nv">tag</span> <span class="ss">:prototype-flag</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l486" id="l486">   486</a>       <span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l487" id="l487">   487</a>      <span class="c1">;; Note: The below restriction confused users.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l488" id="l488">   488</a>      <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l489" id="l489">   489</a>      <span class="c1">;; Nothing smaller than a few lines</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l490" id="l490">   490</a>      <span class="c1">;;(&gt; (- (semantic-tag-end tag) (semantic-tag-start tag)) 150)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l491" id="l491">   491</a>      <span class="c1">;; Random truth</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l492" id="l492">   492</a>      <span class="no">t</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l493" id="l493">   493</a>     <span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l494" id="l494">   494</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l495" id="l495">   495</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-tag-boundary-highlight-default</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l496" id="l496">   496</a>   <span class="s">&quot;Highlight the first line of TAG as a boundary.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l497" id="l497">   497</a>   <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">bufferp</span> <span class="p">(</span><span class="nv">semantic-tag-buffer</span> <span class="nv">tag</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l498" id="l498">   498</a>     <span class="p">(</span><span class="nv">with-current-buffer</span> <span class="p">(</span><span class="nv">semantic-tag-buffer</span> <span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l499" id="l499">   499</a>       <span class="p">(</span><span class="nv">semantic-decorate-tag</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l500" id="l500">   500</a>        <span class="nv">tag</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l501" id="l501">   501</a>        <span class="p">(</span><span class="nv">semantic-tag-start</span> <span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l502" id="l502">   502</a>        <span class="p">(</span><span class="nv">save-excursion</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l503" id="l503">   503</a> 	 <span class="p">(</span><span class="nv">goto-char</span> <span class="p">(</span><span class="nv">semantic-tag-start</span> <span class="nv">tag</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l504" id="l504">   504</a> 	 <span class="p">(</span><span class="nv">end-of-line</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l505" id="l505">   505</a> 	 <span class="p">(</span><span class="nv">forward-char</span> <span class="mi">1</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l506" id="l506">   506</a> 	 <span class="p">(</span><span class="nv">point</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l507" id="l507">   507</a>        <span class="ss">&#39;semantic-tag-boundary-face</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l508" id="l508">   508</a>     <span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l509" id="l509">   509</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l510" id="l510">   510</a> <span class="c1">;;; Private member highlighting</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l511" id="l511">   511</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l512" id="l512">   512</a> <span class="p">(</span><span class="nv">define-semantic-decoration-style</span> <span class="nv">semantic-decoration-on-private-members</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l513" id="l513">   513</a>   <span class="s">&quot;Highlight class members that are designated as PRIVATE access.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l514" id="l514">   514</a>   <span class="ss">:enabled</span> <span class="no">nil</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l515" id="l515">   515</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l516" id="l516">   516</a> <span class="p">(</span><span class="nv">defface</span> <span class="nv">semantic-decoration-on-private-members-face</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l517" id="l517">   517</a>   <span class="o">&#39;</span><span class="p">((((</span><span class="nc">class</span> <span class="nv">color</span><span class="p">)</span> <span class="p">(</span><span class="nv">background</span> <span class="nv">dark</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l518" id="l518">   518</a>      <span class="p">(</span><span class="ss">:background</span> <span class="s">&quot;#200000&quot;</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l519" id="l519">   519</a>     <span class="p">(((</span><span class="nc">class</span> <span class="nv">color</span><span class="p">)</span> <span class="p">(</span><span class="nv">background</span> <span class="nv">light</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l520" id="l520">   520</a>      <span class="p">(</span><span class="ss">:background</span> <span class="s">&quot;#8fffff&quot;</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l521" id="l521">   521</a>   <span class="s">&quot;*Face used to show privately scoped tags in.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l522" id="l522">   522</a> <span class="s">Used by the decoration style: `semantic-decoration-on-private-members&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l523" id="l523">   523</a>   <span class="ss">:group</span> <span class="ss">&#39;semantic-faces</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l524" id="l524">   524</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l525" id="l525">   525</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-on-private-members-highlight-default</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l526" id="l526">   526</a>   <span class="s">&quot;Highlight TAG as designated to have PRIVATE access.</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l527" id="l527">   527</a> <span class="s">Use a primary decoration.&quot;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l528" id="l528">   528</a>   <span class="p">(</span><span class="nv">semantic-set-tag-face</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l529" id="l529">   529</a>    <span class="nv">tag</span> <span class="ss">&#39;semantic-decoration-on-private-members-face</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l530" id="l530">   530</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l531" id="l531">   531</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-on-private-members-p-default</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l532" id="l532">   532</a>   <span class="s">&quot;Return non-nil if TAG has PRIVATE access.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l533" id="l533">   533</a>   <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">member</span> <span class="p">(</span><span class="nv">semantic-tag-class</span> <span class="nv">tag</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="k">function</span> <span class="nv">variable</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l534" id="l534">   534</a>        <span class="p">(</span><span class="nb">eq</span> <span class="p">(</span><span class="nv">semantic-tag-protection</span> <span class="nv">tag</span><span class="p">)</span> <span class="ss">&#39;private</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l535" id="l535">   535</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l536" id="l536">   536</a> <span class="c1">;;; Protected member highlighting</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l537" id="l537">   537</a> <span class="c1">;;</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l538" id="l538">   538</a> <span class="p">(</span><span class="nv">defface</span> <span class="nv">semantic-decoration-on-protected-members-face</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l539" id="l539">   539</a>   <span class="o">&#39;</span><span class="p">((((</span><span class="nc">class</span> <span class="nv">color</span><span class="p">)</span> <span class="p">(</span><span class="nv">background</span> <span class="nv">dark</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l540" id="l540">   540</a>      <span class="p">(</span><span class="ss">:background</span> <span class="s">&quot;#000020&quot;</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l541" id="l541">   541</a>     <span class="p">(((</span><span class="nc">class</span> <span class="nv">color</span><span class="p">)</span> <span class="p">(</span><span class="nv">background</span> <span class="nv">light</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l542" id="l542">   542</a>      <span class="p">(</span><span class="ss">:background</span> <span class="s">&quot;#fffff8&quot;</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l543" id="l543">   543</a>   <span class="s">&quot;*Face used to show protected scoped tags in.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l544" id="l544">   544</a> <span class="s">Used by the decoration style: `semantic-decoration-on-protected-members&#39;.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l545" id="l545">   545</a>   <span class="ss">:group</span> <span class="ss">&#39;semantic-faces</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l546" id="l546">   546</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l547" id="l547">   547</a> <span class="p">(</span><span class="nv">define-semantic-decoration-style</span> <span class="nv">semantic-decoration-on-protected-members</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l548" id="l548">   548</a>   <span class="s">&quot;Highlight class members that are designated as PROTECTED access.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l549" id="l549">   549</a>   <span class="ss">:enabled</span> <span class="no">nil</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l550" id="l550">   550</a> </pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l551" id="l551">   551</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-on-protected-members-p-default</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l552" id="l552">   552</a>   <span class="s">&quot;Return non-nil if TAG has PROTECTED access.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l553" id="l553">   553</a>   <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">member</span> <span class="p">(</span><span class="nv">semantic-tag-class</span> <span class="nv">tag</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="k">function</span> <span class="nv">variable</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l554" id="l554">   554</a>        <span class="p">(</span><span class="nb">eq</span> <span class="p">(</span><span class="nv">semantic-tag-protection</span> <span class="nv">tag</span><span class="p">)</span> <span class="ss">&#39;protected</span><span class="p">)))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l555" id="l555">   555</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l556" id="l556">   556</a> <span class="p">(</span><span class="nb">defun</span> <span class="nv">semantic-decoration-on-protected-members-highlight-default</span> <span class="p">(</span><span class="nv">tag</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l557" id="l557">   557</a>   <span class="s">&quot;Highlight TAG as designated to have PROTECTED access.</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l558" id="l558">   558</a> <span class="s">Use a primary decoration.&quot;</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l559" id="l559">   559</a>   <span class="p">(</span><span class="nv">semantic-set-tag-face</span></pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l560" id="l560">   560</a>    <span class="nv">tag</span> <span class="ss">&#39;semantic-decoration-on-protected-members-face</span><span class="p">))</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l561" id="l561">   561</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l562" id="l562">   562</a> <span class="p">(</span><span class="nb">provide</span> <span class="ss">&#39;semantic-decorate-mode</span><span class="p">)</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l563" id="l563">   563</a> </pre></div><div style="font-family:monospace" class="parity1"><pre><a class="linenr" href="#l564" id="l564">   564</a> <span class="c1">;;; semantic-decorate-mode.el ends here</span></pre></div><div style="font-family:monospace" class="parity0"><pre><a class="linenr" href="#l565" id="l565">   565</a> 
    </div>

    <div class="page-footer">
        <p>Mercurial Repository: mitsuhiko-dotemacs</p>
        <ul class="rss-logo">
            <li><a href="/hg/mitsuhiko-dotemacs/rss-log">RSS</a></li>
            <li><a href="/hg/mitsuhiko-dotemacs/atom-log">Atom</a></li>
        </ul>
        
    </div>

    <div id="powered-by">
        <p><a href="http://www.selenic.com/mercurial/" title="Mercurial"><img src="/hg/mitsuhiko-dotemacs/static/hglogo.png" width=75 height=90 border=0 alt="mercurial"></a></p>
    </div>

    <div id="corner-top-left"></div>
    <div id="corner-top-right"></div>
    <div id="corner-bottom-left"></div>
    <div id="corner-bottom-right"></div>

</div>

</body>
</html>

